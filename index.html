<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><title>易经的卦变v5</title><style>:root{--p:#6d4c41;--s:#f4e8da;--a:#8b5a2b;--y:#c00;--n:#06c;--t:#666;--b:#f4e8da}body{font-family:SimSun,serif;background:var(--s);color:var(--p);margin:0;padding:20px;line-height:1.6;min-height:100vh;cursor:pointer}.container{max-width:1000px;margin:0 auto;text-align:center;cursor:default;position:relative;z-index:1}h1{border-bottom:1px solid var(--p);font-size:2.5em;transition:transform.2s}h1:active{transform:scale(.98)}button{background:var(--p);color:var(--s);padding:1rem 2rem;border:none;cursor:pointer;font-size:1.2rem;margin:1rem;transition:all.3s;border-radius:5px}#yaoBtn{font-size:1.6em}.gua-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-top:1rem}.gua-card{background:#fff9f0;border:1px solid var(--p);padding:1.5rem;border-radius:8px;box-shadow:0 3px 6px rgba(0,0,0,.1)}.gua-card h3{font-size:1.3rem}.gua-card p{font-size:2.7rem;font-weight:700;margin-top:.3rem}.gua-card small{font-size:1.1rem;line-height:1.6;color:var(--a);display:block;margin-top:.5rem;font-weight:700}.gua-number{color:var(--a);font-size:1.3rem;margin:.5rem 0;text-align:center;font-weight:700}.yao-container{display:flex;justify-content:center;gap:3px;margin:.4rem 0;flex-wrap:wrap}.yao{width:10px;height:70px;background:var(--a);transition:all.3s;position:relative;margin:5px;border-radius:3px}.Y{background:0 0}.Y::after,.Y::before{content:'';position:absolute;left:0;width:100%;background:var(--a);border-radius:3px}.Y::before{top:0;height:42%}.Y::after{bottom:0;height:42%}@keyframes s{0%,100%{transform:rotate(0)translateY(0)}25%{transform:rotate(2deg)translateY(-5px)}50%{transform:rotate(-2deg)translateY(5px)}75%{transform:rotate(1deg)translateY(-3px)}}.shaking{animation:s.8s infinite}.blue-font{color:#00f}#explanation{margin-top:2rem;text-align:left;max-width:650px;margin-inline:auto;display:none}.bagua-section{width:100%;margin:30px 0;padding:25px 0;background:var(--s);border-radius:8px}.bagua-title{font-size:2rem;color:var(--p);margin-bottom:20px}.bagua-subtitle{color:var(--t);font-size:1.1rem;margin-bottom:25px}.bagua-outer{position:relative;width:500px;height:500px;margin:0 auto}.bagua-container{position:absolute;width:100%;height:100%;border:3px solid var(--p);border-radius:50%;cursor:grab;transition:transform.3s ease-out;transform:rotate(0);background:var(--s)}.bagua-container.grabbing{cursor:grabbing;transition:none}.center-character{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120px;text-align:center;z-index:10}.nei-character{font-size:54px;color:var(--p);font-weight:700;line-height:1}.nei-explanation{font-size:13px;color:var(--t);line-height:1.3;margin-top:6px}.trigram{position:absolute;width:90px;text-align:center;font-size:18px;transform-origin:center}.symbol{font-size:36px;display:block;margin-bottom:6px}.number{font-weight:700;color:var(--p)}.note{margin:25px auto;max-width:550px;padding:12px;background:var(--s);border:1px dashed var(--p);font-size:1.05rem}.highlight{font-weight:700;color:var(--y)}.legend{display:inline-block;margin:0 12px;font-size:.95rem}.trigram[data-position=south]{top:10px;left:50%;transform:translateX(-50%);color:var(--y)}.trigram[data-position=north]{bottom:10px;left:50%;transform:translateX(-50%)rotate(180deg);color:var(--n)}.trigram[data-position=east]{top:50%;left:10px;transform:translateY(-50%)rotate(-90deg);color:var(--n)}.trigram[data-position=west]{top:50%;right:10px;transform:translateY(-50%)rotate(90deg);color:var(--y)}.trigram[data-position=southeast]{top:60px;left:60px;color:var(--n);transform:rotate(-45deg)}.trigram[data-position=southwest]{top:60px;right:60px;color:var(--n);transform:rotate(45deg)}.trigram[data-position=northeast]{bottom:60px;left:60px;color:var(--y);transform:rotate(-135deg)}.trigram[data-position=northwest]{bottom:60px;right:60px;color:var(--y);transform:rotate(135deg)}</style><div class=container><h1 id=guaTitle>易经的卦变</h1><button id=yaoBtn>重新摇卦</button><div class=yao-container id=yaoContainer></div><div id=resultContainer></div><div id=explanation><ul style=font-size:1.7rem;list-style:none;padding:0><li>天<strong>☰</strong>正对着地<strong>☷</strong><li>水<strong>☵</strong>正对着火<strong>☲</strong><li>泽<strong>☱</strong>在东南，风<strong>☴</strong>在西南<li>山<strong>☶</strong>在西北，雷<strong>☳</strong>在东北</ul><ul style=font-size:1.3rem;list-style:none;padding:0><li>易经杂说：<li>综卦可以称之为反对的或相对的，<li>错卦可称之为正对的。<li>如图所示：</ul><div class=bagua-section><div class=bagua-title>伏羲八卦方位图</div><div class=bagua-subtitle>上南下北·左东右西·先天八卦数·拖动旋转</div><div class=bagua-outer><div class=bagua-container id=baguaWheel><div class=trigram data-position=south><span class=symbol>☰</span><span class=trigram-text>乾（天）<br>南<span class=number>1</span></span></div><div class=trigram data-position=southeast><span class=symbol>☱</span><span class=trigram-text>兑（泽）<br>东南<span class=number>2</span></span></div><div class=trigram data-position=east><span class=symbol>☲</span><span class=trigram-text>离（火）<br>东<span class=number>3</span></span></div><div class=trigram data-position=northeast><span class=symbol>☳</span><span class=trigram-text>震（雷）<br>东北<span class=number>4</span></span></div><div class=trigram data-position=southwest><span class=symbol>☴</span><span class=trigram-text>巽（风）<br>西南<span class=number>5</span></span></div><div class=trigram data-position=north><span class=symbol>☷</span><span class=trigram-text>坤（地）<br>北<span class=number>8</span></span></div><div class=trigram data-position=northwest><span class=symbol>☶</span><span class=trigram-text>艮（山）<br>西北<span class=number>7</span></span></div><div class=trigram data-position=west><span class=symbol>☵</span><span class=trigram-text>坎（水）<br>西<span class=number>6</span></span></div></div><div class=center-character><div class=nei-character>内</div><div class=nei-explanation>《说文解字》：<br>入也。<br>从冂，自外而入。</div></div></div><div class=note><p><span class=highlight>先天八卦数</span>：乾1、兑2、离3、震4、巽5、坎6、艮7、坤8<p><span class=highlight>古代方位说明</span>：上为南，下为北，左为东，右为西<p><span class=highlight>阴阳区分</span>：<span class=legend style=color:var(--y)>红色为阳卦（乾☰、震☳、坎☵、艮☶）</span><br><span style="margin-left:5.8em;"></span><span class=legend style=color:var(--n)>蓝色为阴卦（坤☷、巽☴、离☲、兑☱）</span><p><span class=highlight>用鼠标左键拖动或滚轮可旋转八卦图</span></div></div><h2 style="border-left:4px solid var(--a);padding-left:1rem">卦象术语说明：由上下两套八卦符号，组成六爻</h2><li><strong>(6、5、4是外卦、3、2、1是内卦)</strong></li><ul style=font-size:1.3rem;list-style:none;padding:0><li><strong>本卦</strong>：当前摇出的原始卦象。<li><strong>综卦</strong>：将本卦爻序完全颠倒形成的卦象（镜像卦）<li><strong>错卦</strong>：将本卦阴阳爻全部取反形成的卦象（阴阳翻转）<li><strong>错卦的综卦</strong>：把错卦爻序完全颠倒形成的卦象<li><strong>互卦</strong>：取本卦2-5爻组成的新卦象（543爻组成上爻，432爻组成下爻）<li><strong>互卦的综卦、错卦及错卦的综卦</strong>：基于互卦进一步生成的卦变<li><strong>------</strong><li><strong>天地没有隐藏自身变化，可以观测。</strong><li><strong>天一地二，上下定位的两卦，训练脑子自行举一反十</strong></ul><small style=color:var(--a);display:block;margin-top:1rem;font-size:1.1rem>--------------</small><ul style=font-size:1.3rem;list-style:none;padding:0><li>天再怎么转变还是天☰，地再怎么转变还是地☷<li>水再怎么转变还是水☵，火再怎么转变还是火☲<li>雷☳一转变就成了山☶，风☴一转变就成了泽☱</li><small style=color:var(--a);display:block;margin-top:1rem;font-size:1.1rem>--------------</small><li>相关成语：气势磅礴、遗风余泽<li>雷和山都有势能，风里泽里都有混杂万物</ul><ul style=font-size:3rem;list-style:none;padding:0><li><strong>乾为天（☰）、坤为地（☷）</strong><li><strong>坎为水（☵）、离为火（☲）</strong><li><strong>震为雷（☳）、巽为风（☴）</strong><li><strong>艮为山（☶）、兑为泽（☱）</strong></ul><ul style=font-size:3rem;list-style:none;padding:0><li><strong>《说卦传》：</strong><li><strong>天地定位。山泽通气。</strong><li><strong>雷风相薄。水火不相射。</strong><li><strong>八卦相错。</strong></ul><small style=color:var(--a);display:block;margin-top:1rem;font-size:1.1rem><li>省视八卦的交错变化。<li>《说文解字》相字是省视。从目从木。<li>《易》曰："地可观者，莫可观于木。"</small></div></div><script>const g={"111111":{n:"乾☰为 天䷀",t:"元亨利贞。刚健中正，自强不息"},"000000":{n:"坤☷为 地䷁",t:"元亨，利牝马之贞。厚德载物"},"100010":{n:"水☵雷☳ 屯䷂",t:"刚柔始交而难生"},"010001":{n:"山☶水☵ 蒙䷃",t:"童蒙求我，匪我求童蒙"},"111010":{n:"水☵天☰ 需䷄",t:"云上于天，待时而动"},"010111":{n:"天☰水☵ 讼䷅",t:"天与水违行，慎争戒讼"},"010000":{n:"地☷水☵ 师䷆",t:"刚中而应，行险而顺"},"000010":{n:"水☵地☷ 比䷇",t:"地上有水，亲附和谐"},"111011":{n:"风☴天☰ 小畜䷈",t:"风行天上，密云不雨"},"110111":{n:"天☰泽☱ 履䷉",t:"柔履刚，谨言慎行"},"111000":{n:"地☷天☰ 泰䷊",t:"天地交，小往大来"},"000111":{n:"天☰地☷ 否Pǐ䷋",t:"天地不交，大往小来"},"101111":{n:"天☰火☲ 同人䷌",t:"天与火，同人于野"},"111101":{n:"火☲天☰ 大有䷍",t:"火在天上，顺天休命"},"001000":{n:"地☷山☶ 谦䷎",t:"地中有山，裒多益寡"},"000100":{n:"雷☳地☷ 豫䷏",t:"雷出地奋，顺时依势"},"100110":{n:"泽☱雷☳ 随䷐",t:"泽中有雷，随时之义"},"011001":{n:"山☶风☴ 蛊䷑",t:"山下有风，振民育德"},"110000":{n:"地☷泽☱ 临䷒",t:"泽上有地，教思无穷"},"000011":{n:"风☴地☷ 观䷓",t:"风行地上，省方观民"},"100101":{n:"火☲雷☳ 噬嗑䷔",t:"雷电合而章，明罚敕法"},"101001":{n:"山☶火☲ 贲Bì䷕",t:"山下有火，文饰光明"},"000001":{n:"山☶地☷ 剥䷖",t:"山附于地，顺势而止"},"100000":{n:"地☷雷☳ 复䷗",t:"雷在地中，反复其道"},"100111":{n:"天☰雷☳ 无妄䷘",t:"天下雷行，物与无妄"},"111001":{n:"山☶天☰ 大畜䷙",t:"天在山中，日新其德"},"100001":{n:"山☶雷☳ 颐Yí䷚",t:"山下有雷，慎言语节饮食"},"011110":{n:"泽☱风☴ 大过䷛",t:"泽灭木，独立不惧"},"010010":{n:"坎☵为 水䷜",t:"水洊至，常德行"},"101101":{n:"离☲为 火䷝",t:"明两作，继明照四方"},"001110":{n:"泽☱山☶ 咸Xián䷞",t:"山上有泽，以虚受人"},"011100":{n:"雷☳风☴ 恒䷟",t:"雷风相与，立不易方"},"001111":{n:"天☰山☶ 遁䷠",t:"天下有山，远小人"},"111100":{n:"雷☳天☰ 大壮䷡",t:"雷在天上，非礼弗履"},"000101":{n:"火☲地☷ 晋䷢",t:"明出地上，自昭明德"},"101000":{n:"地☷火☲ 明夷䷣",t:"明入地中，用晦而明"},"101011":{n:"风☴火☲ 家人䷤",t:"风自火出，言有物行有恒"},"110101":{n:"火☲泽☱ 睽䷥",t:"上火下泽，求同存异"},"001010":{n:"水☵山☶ 蹇Jiǎn䷦",t:"山上有水，反身修德"},"010100":{n:"雷☳水☵ 解xiè䷧",t:"雷雨作，赦过宥罪"},"110001":{n:"山☶泽☱ 损䷨",t:"山下有泽，惩忿窒欲"},"100011":{n:"风☴雷☳ 益䷩",t:"风雷激荡，见善则迁"},"111110":{n:"泽☱天☰ 夬Guài䷪",t:"泽上于天，刚决柔也"},"011111":{n:"天☰风☴ 姤Gòu䷫",t:"天下有风，施命诰四方"},"000110":{n:"泽☱地☷ 萃䷬",t:"泽上于地，观其所聚"},"011000":{n:"地☷风☴ 升䷭",t:"地中生木，积小高大"},"010110":{n:"泽☱水☵ 困䷮",t:"泽无水，致命遂志"},"011010":{n:"水☵风☴ 井䷯",t:"木上有水，劳民劝相"},"101110":{n:"泽☱火☲ 革䷰",t:"泽中有火，治历明时"},"011101":{n:"火☲风☴ 鼎䷱",t:"木上有火，正位凝命"},"100100":{n:"震☳为 雷䷲",t:"洊雷，恐惧修省"},"001001":{n:"艮☶为 山䷳",t:"兼山，思不出其位"},"001011":{n:"风☴山☶ 渐䷴",t:"山上有木，进得位"},"110100":{n:"雷☳泽☱ 归妹䷵",t:"泽上有雷，永终知敝"},"101100":{n:"雷☳火☲ 丰䷶",t:"雷电皆至，折狱致刑"},"001101":{n:"火☲山☶ 旅䷷",t:"山上有火，明慎用刑"},"011011":{n:"巽Xùn☴为 风䷸",t:"随风，申命行事"},"110110":{n:"兑☱为 泽䷹",t:"丽泽，朋友讲习"},"010011":{n:"风☴水☵ 涣Huàn䷺",t:"风行水上，享帝立庙"},"110010":{n:"水☵泽☱ 节䷻",t:"泽上有水，制数度议德行"},"110011":{n:"风☴泽☱ 中孚䷼",t:"泽上有风，议狱缓死"},"001100":{n:"雷☳山☶ 小过䷽",t:"山上有雷，行过乎恭"},"101010":{n:"水☵火☲ 既济䷾",t:"水在火上，思患预防"},"010101":{n:"火☲水☵ 未济䷿",t:"火在水上，慎辨物居方"}},G={b:t=>t,c:t=>t.split("").map(t=>"1"===t?"0":"1").join(""),z:t=>[...t].reverse().join(""),h:t=>6===t.length?t.slice(1,4)+t.slice(2,5):t};let a=!1;function y(t){const e=document.createElement("div");return e.className=`yao ${t?"":"Y"}`,e}async function l(){if(a)return;a=!0;const t=document.getElementById("yaoBtn"),e=document.getElementById("yaoContainer");t.textContent="摇卦中...",e.innerHTML="";const n=Array.from({length:6},()=>{const t=y(Math.random()>0.5);return t.classList.add("shaking"),t}).reverse();e.append(...n),await new Promise(t=>setTimeout(t,600));const o=Array.from({length:6},()=>Math.random()>0.5?"1":"0").join("");s(o),a=!1,t.textContent="重新摇卦"}function s(t){const e={"本卦":G.b(t),"综卦（转变）":G.z(t),"错卦（质变）":G.c(t),"错卦的综卦":G.z(G.c(t)),"本卦的互卦":G.h(t)},n=e["本卦的互卦"],o={"互卦的综卦":G.z(n),"互卦的错卦":G.c(n),"互卦的错卦的综卦":G.z(G.c(n))},r=document.getElementById("yaoContainer");r.innerHTML="",r.append(...t.split("").reverse().map(t=>y("1"===t)));const i=document.getElementById("resultContainer");i.innerHTML=`<div class=gua-grid>${Object.entries(e).map(([e,n])=>`<div class=gua-card><h3 class="${"本卦"===e?"blue-font":""}">${e}</h3>${"本卦的互卦"===e?'<div class=gua-source>5 4 3外卦、4 3 2内卦</div>':""}<div class=yao-container>${n.split("").reverse().map(t=>`<div class="yao ${"1"===t?"":"Y"}"></div>`).join("")}</div><div class=gua-number>6 5 4 3 2 1</div><p>${g[n].n}</p><small>${g[n].t}</small></div>`).join("")}${Object.entries(o).map(([e,n])=>`<div class=gua-card><h3>${e}</h3><div class=yao-container>${n.split("").reverse().map(t=>`<div class="yao ${"1"===t?"":"Y"}"></div>`).join("")}</div><div class=gua-number>6 5 4 3 2 1</div><p>${g[n].n}</p><small>${g[n].t}</small></div>`).join("")}</div>`,document.getElementById("explanation").style.display="block"}document.addEventListener("DOMContentLoaded",()=>l()),document.getElementById("yaoBtn").addEventListener("click",l),document.getElementById("guaTitle").addEventListener("click",l),document.body.addEventListener("click",t=>{t.target.closest(".container")||l()});const w=document.getElementById("baguaWheel");let d=!1,p=0,u=0,v=0;function c(t){const e=t.getBoundingClientRect();return{x:e.left+e.width/2,y:e.top+e.height/2}}function f(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}function h(t){const e=window.getComputedStyle(t).getPropertyValue("transform");if("none"===e)return 0;const n=e.split("(")[1].split(")")[0].split(",");return Math.atan2(n[1],n[0])*(180/Math.PI)}function m(t){return(t%360+360)%360}w.addEventListener("wheel",(e)=>{e.preventDefault();clearTimeout(v);const t=e.deltaY>0?1:-1;const spinSpeed=25;let n=u+spinSpeed*t*(2+Math.random()*3);w.style.transform=`rotate(${n}deg)`;u=n;let deceleration=spinSpeed*0.95;const slowDown=()=>{if(deceleration>0.1){n+=t*deceleration;w.style.transform=`rotate(${n}deg)`;u=n;deceleration*=0.95;requestAnimationFrame(slowDown)}else{const finalAngle=45*Math.round(u/45);w.style.transform=`rotate(${finalAngle}deg)`;u=finalAngle}};requestAnimationFrame(slowDown)},{passive:false});w.addEventListener('mousedown',(e)=>{e.preventDefault();d=true;p=h(w);const center=c(w);const startAngle=f(center,{x:e.clientX,y:e.clientY});w.classList.add('grabbing');function moveHandler(e){if(!d)return;const currentAngle=f(center,{x:e.clientX,y:e.clientY});const angleDiff=currentAngle-startAngle;w.style.transform=`rotate(${p+angleDiff}deg)`;u=p+angleDiff}function upHandler(){d=false;w.classList.remove('grabbing');document.removeEventListener('mousemove',moveHandler);document.removeEventListener('mouseup',upHandler)}document.addEventListener('mousemove',moveHandler);document.addEventListener('mouseup',upHandler)});w.addEventListener('touchstart',(e)=>{e.preventDefault();d=true;p=h(w);const center=c(w);const touch=e.touches[0];const startAngle=f(center,{x:touch.clientX,y:touch.clientY});w.classList.add('grabbing');function touchMoveHandler(e){if(!d)return;const touch=e.touches[0];const currentAngle=f(center,{x:touch.clientX,y:touch.clientY});const angleDiff=currentAngle-startAngle;w.style.transform=`rotate(${p+angleDiff}deg)`;u=p+angleDiff}function touchEndHandler(){d=false;w.classList.remove('grabbing');document.removeEventListener('touchmove',touchMoveHandler);document.removeEventListener('touchend',touchEndHandler)}document.addEventListener('touchmove',touchMoveHandler);document.addEventListener('touchend',touchEndHandler)},{passive:false});</script>
